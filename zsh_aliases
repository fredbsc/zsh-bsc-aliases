#/bin/bash
# 
#          _              _ _                     
#  _______| |__      __ _| (_) __ _ ___  ___  ___ 
# |_  / __| '_ \    / _` | | |/ _` / __|/ _ \/ __|
#  / /\__ \ | | |  | (_| | | | (_| \__ \  __/\__ \
# /___|___/_| |_|___\__,_|_|_|\__,_|___/\___||___/
#              |_____|                            
# 

source ~/scripts/googler_at

#alias ducks="sudo ls -a | grep -v -e '^\.\.$' | xargs -i du -ks {} |sort -rn |head -11"
alias ducks='sudo du -cks * | sort -rn | head -11'

# list all aliases
alias aliases="compgen -a"

#system helpers
alias ls="ls --color=none"
alias ..="cd .."
alias ...="cd ../.."
alias h='cd ~'
alias c='clear'
alias e='exit'
alias b='cd ~-'
alias hg='history | grep'
alias realias='source ~/.bash_aliases'
alias doc='vi ~/clidoc.md'
alias ccat='highlight --out-format=ansi'
export COLUMNS  # Remember columns for subprocesses.
function ls {
  command ls --color=always -hals "$@" | less -R -X -F
}
alias ls='ls'
alias l='$(which ls)'
alias mp='ncmpcpp'

alias vi='/usr/local/bin/nvim'
alias vig='/opt/goneovim-v0.4.12/goneovim'
alias vim='gvim 2>/dev/null'
alias ci='code-insiders'
alias z='zathura'

alias we='python3 /run/media/fred/tower/data/programming/py/scrap/weight/weight.py'

#laravel programming
alias art='php artisan $OPTIONS'
alias lroute='php artisan route:list'
alias csep='vendor/bin/codecept'
alias pu='vendor/phpunit/phpunit/phpunit'

#vagrant
alias vaprobash="curl -L http://bit.ly/vaprobash > Vagrantfile"
alias vss='vagrant ssh -c "sudo su -; bash --login"'
alias vsgo='echo "bringing vagrant up and sshing as root ... .... ";vagrant up && vagrant provision && vagrant ssh -c "sudo su -;cd /vagrant; bash --login"'

#homestead
alias hs7up='echo "bringing up homestead PHP 7 and sshing in ... ...";cd ~/PhpCode/homestead/;vagrant up && vagrant ssh -c "cd ~/PhpCode; ls"'
alias hs7down='echo "stopping homestead box ... ..."; cd ~/PhpCode/homestead/; vagrant halt'
alias hss7='echo "sshing to homestead PHP 7 box ... ..."; cd ~/PhpCode/homestead/; vagrant ssh -c "cd ~/PhpCode; ls; bash --login"'
alias hs7edit='cd ~/.homestead/; vi Homestead.yaml'

alias hs5up='echo "bringing up homestead PHP 5.6 and sshing in ... ...";cd ~/PhpCode/homestead56/;vagrant up && vagrant ssh -c "cd ~/PhpCode; ls"'
alias hs5down='echo "stopping homestead PHP 5.6 box ... ..."; cd ~/PhpCode/homestead56/; vagrant halt'
alias hss5='echo "sshing to homestead PHP 5.6 box ... ..."; cd ~/PhpCode/homestead56/; vagrant ssh -c "cd ~/PhpCode; ls; bash --login"'
alias hs5edit='cd ~/.homestead-56/; vi Homestead.yaml'

alias sub='/home/fred/Programme-ssd/sublime/sublime_text'
# source ~/.homestead/aliases

#laradock
alias dc='time docker-compose'
alias dcup='time docker-compose up -d'
alias dcnp='time docker-compose up -d nginx postgres'
alias dcnm='time docker-compose up -d nginx mysql'
alias dcw='time docker-compose up -d nginx mysql workspace'  
alias dcnmm='time docker-compose up -d nginx mysql mailcatcher'
alias dold='docker-compose exec --user=laradock workspace bash'
alias doldr='docker-compose exec workspace bash'

alias dolm='docker-compose exec laradock_mysql bash'
alias dolmm='docker-compose exec mysql /usr/bin/mysql'
alias dolmdump='docker-compose exec mysql /usr/bin/mysqldump'

alias ali='alias | fzf'
alias hist='history | cut -c 30- | sort | uniq -u | fzf'


# sunny mode
alias vv='vi +"colorscheme default" +"nocursorline" +"syntax off"'


# laravel/vagrant project donkey
alias donup='cd /home/fred/PhpCode/donkey; vagrant up && vagrant ssh -c "cd /vagrant/laravel; bash --login"'
alias dond="cd /home/fred/PhpCode/donkey; vagrant halt"
alias donb='cd /home/fred/PhpCode/donkey/laravel; google-chrome --new-window "http://donkey.bsc.at/" "http://laravel.com/docs/5.1"'
alias dons='cd /home/fred/PhpCode/donkey; vagrant ssh -c "cd /vagrant/laravel; bash --login"'
alias donart='cd /home/fred/PhpCode/donkey/laravel/; art'
alias dong='cd /home/fred/PhpCode/donkey/laravel/; gulp watch'

# laravel Project Donkey on EDI
alias ssd='ssh root@edi -t "cd /var/www/donkey/laravel; bash --login"'

#laravel KGV MARUNAS Project
alias kgvb='cd /home/fred/PhpCode/dev-marunas; google-chrome --new-window "http://dev-marunas.bsc.at/" "http://laravel.com/docs/4.2"'
alias kgvart='cd /home/fred/PhpCode/dev-marunas; art'
alias sskgv='ssh root@edi -t "cd /var/www/dev-marunas/; bash --login"'

#music
alias cm='cmus'
alias cr='cmus-remote'

#todo.txt
export TODOTXT_DEFAULT_ACTION=ls
alias tt='figlet -f smslant "todo  "$(LANG=en_us_88591; date +"%a  %b%d") && /home/fred/dotfiles/todo.txt/todo.sh'
source /home/fred/dotfiles/todo.txt/todo_completion
complete -F _todo tt

# Taskbook
alias t='figlet -f smslant "task  "$(LANG=en_us_88591; date +"%a  %b%d") && tb'

# emacs
# alias em='emacsclient -a "" -nqc "$@" &> /dev/null'
alias em='emacs'
alias ec='emacs -nw'

# issue
alias i='figlet -f smslant "issue  "$(LANG=en_us_88591; date +"%a  %b%d") && issue'

# timetrap
alias tz='figlet -f smslant "timetrap  "$(LANG=en_us_88591; date +"%a  %b%d") && timetrap'

# geeknote - evernote cli 
alias g='geeknote'

#Python
alias p='python'

# Libreoffice
alias writer='libreoffice6.4 --writer'

# newsbeuter
alias n='rxvt-unicode -geometry 120x40 -e newsbeuter'

# change dir and ls
function cl() {
    builtin cd "$@" && ls
}
alias cl=cl

function cla() {
    builtin cd "$@" && ls -all
}
alias cla=cla

# Create a new directory and enter it
function mkd() {
    mkdir -p "$@" && cd "$@"
}

function md() {
    mkdir -p "$@" && cd "$@"
}

function xtree {
    find ${1:-.} -print | sed -e 's;[^/]*/;|____;g;s;____|; |;g'
}

#plain html
function server() {
  local port="${1:-8000}"
  google-chrome-stable "http://localhost:${port}/"
  python -m SimpleHTTPServer "$port"
}
alias server=server
alias chrome='/usr/bin/google-chrome-stable'

#git
alias gs='git status'
alias gg='git log --pretty=format:"%h : %s" --graph'

# Dotfiles git
alias config='/usr/bin/git --git-dir=$HOME/.cfg/ --work-tree=$HOME'


# aliases for backup
alias eq8='ssh root@eq8'
alias sshh='ssh root@hhost -t "screen -r vms; bash --login"'
alias ssih='ssh root@ihost -t "cd /home/KVMBACK; bash --login"'
#alias ball='cd /home/fred/mint-raid/serverbackup/; ./save_all.sh'

# update
alias upgrade='echo "apt update and upgrade?";sudo apt-get update && sudo apt-get upgrade -yy'

# TMUX and sessions
alias tr='tmuxinator'
alias tre='tmuxinator edit'
alias trs='tmuxinator start'
alias trl='tmuxinator list'
alias s='trs sss'

alias oelv-nas='ssh -p 2222 admin@oelv1'

# aliases for remote hosts
function vmssh(){
  ssh $@ -t 'cd $HOME ;
  wget --quiet --no-check-certificate -N "https://gist.githubusercontent.com/fredbsc/23cee30785c9649a79cc76e5d113b4d6/raw/debvmbashrc.sh" ;
  wget --quiet --no-check-certificate -N "https://gist.githubusercontent.com/fredbsc/a333852c3f1eb1d0e757d9ea839919d7/raw/debvmvimrc.sh" ;
  mv debvmbashrc.sh .bashrc  ;
  mv debvmvimrc.sh .vimrc
  bash --rcfile .bashrc'
}

dclean() {
    processes=`docker ps -q -f status=exited`
    if [ -n "$processes" ]; then
			echo 'Removing exited containers'
      docker rm $processes
    fi

    images=`docker images -q -f dangling=true`
			echo 'Removing dangling containers'
    if [ -n "$images" ]; then
      docker rmi $images
    fi
}
alias dclean=dclean

# remove laravel* containers
# remove laravel_* images
dcleanlaradockfunction()
{
	echo 'Removing ALL containers associated with laradock'
	docker ps -a | awk '{ print $1,$2 }' | grep laradock | awk '{print $1}' | xargs -I {} docker rm {}

	# remove ALL images associated with laradock_
	# does NOT delete laradock/* which are hub images
	echo 'Removing ALL images associated with laradock_'
	docker images | awk '{print $1,$2,$3}' | grep laradock_ | awk '{print $3}' | xargs -I {} docker rmi {}

	echo 'Listing all laradock docker hub images...'
	docker images | grep laradock

	echo 'dcleanlaradock completed'
}
# associate the above function with an alias
# so can recall/lookup by typing 'alias'
alias dcleanlaradock=dcleanlaradockfunction

dspacefunction()  {
	echo 'installed docker images in GB:'
	docker images | awk '{print $7}' | sed 's/.\{2\}$//' | awk '{s+=$0}END{print s/1024}'
}
alias dspace=dspacefunction

alias pe='pet'
alias p='pet exec'
alias pn='pet new'
function prev() {
  PREV=$(echo `history | tail -n2 | head -n1` | sed 's/.*] //')
  sh -c "pet new `printf %q "$PREV"`"
}

# RANGER & fzf
source ~/.fuzzyrc
